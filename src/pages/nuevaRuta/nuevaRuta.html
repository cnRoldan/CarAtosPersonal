<ion-header>
  <ion-navbar color="secondary">
    <ion-title >Crear Rutas</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="page-nuevaRuta animated fadeIn fast">

  <ion-card class="border-rad">
    <ion-list>
      <ion-item>
        <ion-avatar item-start>
          <img src="http://www.todoriesgo.com.ar/wp-content/uploads/2017/01/ruta-2-3-large.jpg" class="image-perfil" item-left>
        </ion-avatar>
        <ion-label color="primary" stacked>Nombre</ion-label>
        <ion-input placeholder="De la ruta o grupo" [(ngModel)]="ruta.nombre"></ion-input>
      </ion-item>
      <hr>
      <ion-item>
        <ion-label color="primary" floating>Direccion de origen</ion-label>
        <ion-input autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="autoCompleteField" #search [formControl]="searchControl"
          id="autocompleteField" required>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" floating>Centro AtoS</ion-label>
        <ion-select placehorder="placeHolder" class="selectCenter" interface="action-sheet" [(ngModel)]="ruta.destino">
          <ion-option value="S/C">AtoS Consulting Canarias S/C</ion-option>
          <ion-option value="AGA">AtoS Granadilla de Abona</ion-option>
        </ion-select>
      </ion-item>
      <!-- <ion-item>
        <ion-label color="primary" floating>Número de plazas</ion-label>
        <ion-input type="number" max="4" name="plazas" [(ngModel)]="ruta.plazas" item-end></ion-input>
      </ion-item> -->
      <ion-item>
        <ion-label color="primary" floating>Descripción</ion-label>
        <ion-textarea color="primary" rows="4" maxLength="300" [(ngModel)]="ruta.descripcion"></ion-textarea>
      </ion-item>
    </ion-list>
  </ion-card>

  <div class="segment-div">
    <ion-segment class="segment" [(ngModel)]="selected">
      <ion-segment-button class="segment-button" *ngFor="let dia of diasSemana" [value]="dia.nombre">{{dia.nombre}}</ion-segment-button>
    </ion-segment>
  </div>

  <div *ngFor="let dia of diasSemana; let i = index">
    <ion-list *ngIf="selected==dia.nombre" ngSelected="selected" class="slide-in-both-ways">
      <ion-card class="border-rad">
        <ion-item>
          <ion-label *ngIf="dia.horaS!=null" color="primary">Salida</ion-label>
          <ion-datetime [(ngModel)]="dia.horaS" displayFormat="HH:mm" (ionChange)="autocompletarHorarios()" placeholder="¿A qué hora sales de casa?"></ion-datetime>
        </ion-item>
        <hr>
        <ion-item>
          <ion-label *ngIf="dia.horaLl!=null" color="primary">Salida de trabajo</ion-label>
          <ion-datetime [(ngModel)]="dia.horaLl" displayFormat="HH:mm" (ionChange)="autocompletarHorarios()" placeholder="¿A qué hora sales de trabajar?"></ion-datetime>
        </ion-item>
      </ion-card>
    </ion-list>
  </div>




  <button color="success" ion-button block full round center class="button-bottom" (click)="crearRuta()">Crear</button>

</ion-content>