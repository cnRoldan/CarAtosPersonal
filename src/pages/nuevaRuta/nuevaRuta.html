<ion-header>
  <ion-navbar color="secondary">
    <ion-title>Crear Rutas</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="page-nuevaRuta animated fadeIn fast">

  <ion-card class="border-rad">
    <ion-list>
      <ion-item>
        <ion-avatar item-start>
          <img src="http://www.todoriesgo.com.ar/wp-content/uploads/2017/01/ruta-2-3-large.jpg" class="image-perfil" item-left>
        </ion-avatar>
        <ion-label color="primary" stacked>Nombre</ion-label>
        <ion-input placeholder="De la ruta o grupo" [(ngModel)]="ruta.nombre"></ion-input>
      </ion-item>
      <hr>
      <ion-item>
        <ion-label color="primary" fixed>Origen</ion-label>
        <ion-input 
          placeholder="Introduzca dirección" 
          autocorrect="off" autocapitalize="off" spellcheck="off" type="text" 
          class="autoCompleteField" #search [formControl]="searchControl" [(ngModel)]="ruta.salida" id="autocompleteField" required>
        </ion-input>
      </ion-item>
      <!-- <div class="form-group">
        <input placeholder="Buscar direccion" autocorrect="off" autocapitalize="off" 
          spellcheck="off" type="text" class="form-control formAutocomplete" #search [formControl]="searchControl">
      </div> -->
      <hr>
      <ion-item>
        <ion-label color="primary" fixed>Destino</ion-label>
        <ion-select class="selectCenter" interface="action-sheet" [(ngModel)]="ruta.destino" placehorder="Seleccione un centro de AtoS">
          <ion-option  value="S/C" >AtoS Consulting Canarias S/C</ion-option>
          <ion-option  value="AGA">AtoS Granadilla de Abona</ion-option>
        </ion-select>
      </ion-item>
      <hr>
      <ion-item>
        <ion-label color="primary" fixed>Plazas</ion-label>
        <ion-input type="number" min="1" max="4" value="1" name="plazas" [(ngModel)]="ruta.plazas" item-end></ion-input>
      </ion-item>
      <ion-item >
        <ion-label color="primary" floating>Descripción</ion-label>
        <ion-textarea color="primary" rows="4" maxLength="300" [(ngModel)]="ruta.descripcion"></ion-textarea>
      </ion-item>
    </ion-list>
  </ion-card>

  <div class="segment-div">
    <ion-segment class="segment" [(ngModel)]="selected">
      <ion-segment-button class="segment-button" *ngFor="let dia of diasSemana" [value]="dia.nombre">{{dia.nombre}}</ion-segment-button>
    </ion-segment>
  </div>

  <div *ngFor="let dia of diasSemana">
    <ion-list *ngIf="selected==dia.nombre" ngSelected="selected" class="slide-in-both-ways">
      <ion-card class="border-rad">
          <ion-item>
            <ion-label color="primary">Salida</ion-label>
            <ion-datetime [(ngModel)]="dia.horaS" displayFormat="HH:mm" placeholder="Introduce hora..."></ion-datetime>
          </ion-item>
          <hr>
          <ion-item>
            <ion-label color="primary">Llegada</ion-label>
            <ion-datetime [(ngModel)]="dia.horaLl" displayFormat="HH:mm" placeholder="Introduce hora..."></ion-datetime>
          </ion-item>
      </ion-card>
    </ion-list>
  </div>

  <!-- SE2 -->


  <button color="success" ion-button block full round center class="button-bottom" (click)="crearRuta()">Crear</button>

</ion-content>